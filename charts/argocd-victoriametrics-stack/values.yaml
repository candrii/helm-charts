# =============================================================================
# ARGOCD VICTORIAMETRICS STACK
# ArgoCD Applications for deploying Victoria Metrics stack
# =============================================================================

# Common prefix for all HelmRelease names
namePrefix: vm

# ArgoCD project name
project: default

# Destination cluster name (use "in-cluster" for local)
destinationCluster: in-cluster

# Namespaces configuration
namespaces:
  # Namespace for Victoria Metrics operator
  operator: cluster-operators
  # Namespace for stack components (vmsingle, vlsingle, vmauth)
  stack: monitoring

# Sync policy for all applications
syncPolicy:
  automated:
    prune: false
    selfHeal: true
  syncOptions:
    - CreateNamespace=true

# =============================================================================
# VICTORIA METRICS OPERATOR
# =============================================================================
operator:
  enabled: true
  chart:
    # OCI registry URL
    repoURL: oci://ghcr.io/victoriametrics/helm-charts/victoria-metrics-operator
    version: "0.57.1"
  # Additional values to pass to the operator chart
  values: {}

# =============================================================================
# VMSINGLE
# =============================================================================
vmsingle:
  enabled: true
  chart:
    # OCI registry URL
    repoURL: oci://ghcr.io/candrii/charts/victoriametrics-vmsingle
    version: "0.0.3"
    # Override chart name in child chart (removes victoriametrics prefix)
    nameOverride: vmsingle
  # Sync wave for ordering (-1 deploys after operator)
  syncWave: "-1"

# =============================================================================
# VLSINGLE
# =============================================================================
vlsingle:
  enabled: true
  chart:
    repoURL: oci://ghcr.io/candrii/charts/victoriametrics-vlsingle
    version: "0.0.2"
    # Override chart name in child chart (removes victoriametrics prefix)
    nameOverride: vlsingle
  syncWave: "-1"

# =============================================================================
# VMAUTH - Victoria Metrics Auth Proxy
# Official chart: https://victoriametrics.github.io/helm-charts/
# =============================================================================
vmauth:
  enabled: false
  chart:
    repoURL: oci://ghcr.io/victoriametrics/helm-charts/victoria-metrics-auth
    version: "0.20.0"
    nameOverride: vmauth
  syncWave: "0"

# =============================================================================
# AUTHENTIK REMOTE CLUSTER - RBAC for Authentik integration
# Official chart: https://github.com/goauthentik/helm
# =============================================================================
authentikRemoteCluster:
  enabled: false
  chart:
    repoURL: https://charts.goauthentik.io
    name: authentik-remote-cluster
    version: "2.1.0"
  # Namespace for authentik RBAC resources
  namespace: authentik-remote
  syncWave: "1"
  # Additional values to pass to the chart
  values: {}
